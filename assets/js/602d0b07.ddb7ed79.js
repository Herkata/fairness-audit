"use strict";(globalThis.webpackChunkfairness_audit=globalThis.webpackChunkfairness_audit||[]).push([[9354],{392(e,s,i){i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"historical-context-assessment-tool","title":"Historical Context Assessment Tool","description":"window.print()}>","source":"@site/docs/02-historical-context-assessment-tool.mdx","sourceDirName":".","slug":"/historical-context-assessment","permalink":"/fairness-audit/docs/historical-context-assessment","draft":false,"unlisted":false,"editUrl":"https://github.com/Herkata/fairness-audit/tree/main/docs/02-historical-context-assessment-tool.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Historical Context Assessment Tool","slug":"/historical-context-assessment"},"sidebar":"toolsSidebar","previous":{"title":"Implementation Guide","permalink":"/fairness-audit/docs/implementation-guide"},"next":{"title":"Fairness Definition Selection Tool","permalink":"/fairness-audit/docs/fairness-definition-selection"}}');var t=i(4848),n=i(8453),r=i(7308);const l={sidebar_position:2,title:"Historical Context Assessment Tool",slug:"/historical-context-assessment"},o="Historical Context Assessment Tool",c={},d=[{value:"<strong>Overview and Guidance</strong>",id:"overview-and-guidance",level:2},{value:"<strong>Questionnaire Sections</strong>",id:"questionnaire-sections",level:2},{value:"1. Domain",id:"1-domain",level:3},{value:"2. Application Concept",id:"2-application-concept",level:3},{value:"3. Data",id:"3-data",level:3},{value:"4. Features",id:"4-features",level:3},{value:"5. Intersectionality Findings",id:"5-intersectionality-findings",level:3},{value:"6. Model Selection",id:"6-model-selection",level:3},{value:"7. Evaluation",id:"7-evaluation",level:3},{value:"<strong>Risk Classification Matrix</strong>",id:"risk-classification-matrix",level:2},{value:"Matrix Dimensions",id:"matrix-dimensions",level:3},{value:"Priority Interpretation",id:"priority-interpretation",level:3},{value:"Fillable Risk Matrix",id:"fillable-risk-matrix",level:3},{value:"Sources / References",id:"sources--references",level:3}];function h(e){const s={blockquote:"blockquote",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"historical-context-assessment-tool",children:"Historical Context Assessment Tool"})}),"\n",(0,t.jsxs)("div",{className:"print-wrap",children:[(0,t.jsxs)("button",{type:"button",className:"print-btn",onClick:()=>window.print(),children:[(0,t.jsx)("span",{"aria-hidden":"true",role:"img",className:"print-icon",children:"\ud83d\udcbe"}),(0,t.jsx)("span",{children:"Save filled page as PDF"})]}),(0,t.jsx)("span",{className:"print-tip",children:'Use your browser\'s print dialog and choose "Save as PDF" to keep filled inputs.'})]}),"\n",(0,t.jsx)(s.h2,{id:"overview-and-guidance",children:(0,t.jsx)(s.strong,{children:"Overview and Guidance"})}),"\n",(0,t.jsx)(s.p,{children:"This tool guides you through a structured assessment of the historical context relevant to your AI application. By systematically examining the domain, data, features, and model choices through the lens of documented patterns of discrimination, you can identify potential risks and vulnerabilities that may arise from replicating or amplifying these patterns."}),"\n",(0,t.jsx)(s.h2,{id:"questionnaire-sections",children:(0,t.jsx)(s.strong,{children:"Questionnaire Sections"})}),"\n",(0,t.jsx)(s.h3,{id:"1-domain",children:"1. Domain"}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"What domain is your application aimed at?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Healthcare, Jurisdiction, Advertisement, Production"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: domain"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"How old is this branch, and what influenced its development throughout history?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Industrial monopolies, Political directives, Legislation"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: history"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Which kinds of discrimination have been recorded in this domain?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Black women in space research, ageism in hiring, women earning less"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: discrimination"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Is explainability an important factor in your field?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Loans, recidivism, CT scans"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: explainability"})]}),"\n",(0,t.jsx)(s.h3,{id:"2-application-concept",children:"2. Application Concept"}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"What is your application\u2019s function/goal?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Scoring, categorization, risk assessment"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: goal"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Is there an existing, comparable solution that either leads by example or illustrates practices to avoid?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Facial recognition bias against Black women, image generation showing only white persons"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: comparable"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Based on the information gathered above, what are your application\u2019s vulnerabilities or weak spots?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Bias, amplifying implicit discrimination, insufficient data"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: vulnerabilities"})]}),"\n",(0,t.jsx)(s.h3,{id:"3-data",children:"3. Data"}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"What is the data source you plan to use?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Public, limited access, owned by your company"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: data source"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Is the data source well-documented?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"Are the features, schema, and collection process documented?"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: documentation"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Has the data been collected ethically and legally?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"Is the data from a legitimate source? Was there a leak or unethical practice?"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: ethics"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Is the data representative of the population it was collected from?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"Does the collected data represent the whole collection group accurately? e.g. A university poll considering students and staff"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: representativeness collected"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Is the data representative of the population it is going to make predictions on?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"Where is the application going to be used? Are the target group and collection group comparable?"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: representativeness target"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Which variables have been measured?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: variables"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"What kinds of scales have been applied?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: scales"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Have data collection practices changed since the data were recorded?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: collection changes"})]}),"\n",(0,t.jsx)(s.h3,{id:"4-features",children:"4. Features"}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Which features are included in training, and why?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: features"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Define which attributes are/should be protected to avoid discrimination."}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Race, gender, social status"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: protected attributes"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Run correlation analysis to identify proxies for protected attributes."}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Address for social status, name for ethnicity"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: proxies"})]}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Does any feature definition disadvantage certain groups?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Physical status, leadership fitness, employment continuity"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: disadvantaged groups"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--md",children:[(0,t.jsx)("strong",{children:"Does the encoding of attributes disadvantage certain groups?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. 0, 1, 2 for male, female, other"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: encoding"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Are categorization practices discriminatory or derogatory?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Limited gender options, inaccurate race options"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: categorization"})]}),"\n",(0,t.jsx)(s.h3,{id:"5-intersectionality-findings",children:"5. Intersectionality Findings"}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Are there intersectional subgroups that require further exploration based on historical context?"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"e.g. Women of color in scientific fields, low-income Indigenous communities in political representation, women of childbearing age in hiring"})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: intersectional"})]}),"\n",(0,t.jsx)(s.h3,{id:"6-model-selection",children:"6. Model Selection"}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"What priorities were set in historical applications with the same goal?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: historical priorities"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Which models achieved these goals, and what downsides did they have?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: model downsides"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Which technical performance metrics will you use to choose the final model or ensemble, and why?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: performance metrics"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Is your model explainable? Which features contribute to the results and how?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: explainability"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Which factors are used in hyperparameter tuning?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: hyperparameters"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Do these factors increase the influence of protected variables?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: influence protected"})]}),"\n",(0,t.jsx)(s.h3,{id:"7-evaluation",children:"7. Evaluation"}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Define technical performance metrics."}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: tech metrics"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Define what the confusion matrix elements mean in your case: TN, TP, FN, FP."}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: confusion matrix"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Evaluate severity and set priorities to choose which metric to maximize."}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: severity"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Introduce fairness metrics applicable to your solution."}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: fairness metrics"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Document your choice of fairness metric and reasoning."}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: metric reasoning"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Describe the fairness\u2013performance trade-off."}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: tradeoff"})]}),"\n",(0,t.jsxs)("div",{className:"question-block question-block--sm",children:[(0,t.jsx)("strong",{children:"Could your solution cause potential harm?"}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Notes: harm"})]}),"\n",(0,t.jsx)(s.h2,{id:"risk-classification-matrix",children:(0,t.jsx)(s.strong,{children:"Risk Classification Matrix"})}),"\n",(0,t.jsxs)(s.blockquote,{children:["\n",(0,t.jsxs)(s.p,{children:["This matrix assesses risks from historically documented patterns of discrimination relevant to an internal loan application system. In line with the ",(0,t.jsx)(s.strong,{children:"EU AI Act"}),", particular attention is given to risks affecting ",(0,t.jsx)(s.strong,{children:"access to credit"}),", classified as a ",(0,t.jsx)(s.strong,{children:"high-risk use case"})," due to its impact on economic opportunity and fundamental rights."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"matrix-dimensions",children:"Matrix Dimensions"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Historical Pattern"})}),"\n",(0,t.jsx)(s.p,{children:"A well-documented historical pattern of discrimination or exclusion, supported by legal, social, or empirical evidence, particularly in financial and credit-related contexts."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Impact Severity"})," \u2013 Potential harm if the historical pattern is reproduced by the system:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"High (3):"})," Affects fundamental rights or critical life outcomes (e.g. access to housing, credit, economic stability)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Medium (2):"})," Produces significant inequality in access to financial resources or economic opportunity"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Low (1):"})," Leads to differential treatment with limited material impact"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Occurrence Likelihood"})," \u2013 Probability that the pattern may manifest in AI-based loan systems:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"High (3):"})," Frequently observed in historical or contemporary credit systems"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Medium (2):"})," Documented but context-dependent"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Low (1):"})," Rare or indirect"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"System Relevance"})," \u2013 Applicability to the internal loan application system:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"High (3):"})," Directly related to creditworthiness assessment, risk scoring, or approval decisions"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Medium (2):"})," Indirectly influences decision-support components"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Low (1):"})," Peripheral relevance"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Risk Priority Score"})}),"\n",(0,t.jsxs)(s.p,{children:["Calculated as: ",(0,t.jsx)(s.strong,{children:"Impact Severity + Occurrence Likelihood + System Relevance"})]}),"\n",(0,t.jsx)(s.h3,{id:"priority-interpretation",children:"Priority Interpretation"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"7\u20139:"})," Critical \u2014 requires immediate mitigation before deployment"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"5\u20136:"})," High \u2014 mitigation required and ongoing monitoring"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"3\u20134:"})," Medium \u2014 monitoring and periodic review required"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"fillable-risk-matrix",children:"Fillable Risk Matrix"}),"\n",(0,t.jsx)(r.vq,{}),"\n",(0,t.jsx)(s.h3,{id:"sources--references",children:"Sources / References"}),"\n",(0,t.jsxs)("div",{className:"question-block",children:[(0,t.jsx)("strong",{children:"Sources and Evidence"}),(0,t.jsx)("p",{children:(0,t.jsx)("em",{children:"List datasets, regulations, reports, or research cited on this page."})}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":"Sources and evidence"})]})]})}function m(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},7308(e,s,i){i.d(s,{JP:()=>r,qh:()=>l,vq:()=>n});var a=i(6540),t=i(4848);const n=()=>{const[e,s]=(0,a.useState)(Array.from({length:3}).map(()=>({pattern:"",impact:"",likelihood:"",relevance:"",mitigation:""}))),i=(e,i,a)=>{s(s=>s.map((s,t)=>t===e?{...s,[i]:a}:s))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"controls-row",children:(0,t.jsx)("button",{type:"button",onClick:()=>{s(e=>[...e,{pattern:"",impact:"",likelihood:"",relevance:"",mitigation:""}])},children:"+ Add row"})}),(0,t.jsx)("div",{className:"table-card",children:(0,t.jsx)("div",{className:"table-scroll",children:(0,t.jsxs)("table",{className:"risk-matrix",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Historical Pattern"}),(0,t.jsx)("th",{children:"Impact Severity (1\u20133)"}),(0,t.jsx)("th",{children:"Occurrence Likelihood (1\u20133)"}),(0,t.jsx)("th",{children:"System Relevance (1\u20133)"}),(0,t.jsx)("th",{children:"Risk Priority Score"}),(0,t.jsx)("th",{children:"Mitigation / Notes"})]})}),(0,t.jsx)("tbody",{children:e.map((e,s)=>{const a=(e=>{const s=e=>{const s=parseInt(e,10);return Number.isNaN(s)?0:Math.max(0,Math.min(3,s))},i=s(e.impact),a=s(e.likelihood),t=s(e.relevance),n=i+a+t;return i+a+t>0?n>=7?{score:n,label:"Critical",className:"risk-critical",action:"Immediate mitigation before deployment."}:n>=5?{score:n,label:"High",className:"risk-high",action:"Mitigation required and ongoing monitoring."}:n>=3?{score:n,label:"Medium",className:"risk-medium",action:"Monitor and review periodically."}:{score:n,label:"Low",className:"risk-low",action:"Document and keep under observation."}:{score:"\u2014",label:"No scores",className:"risk-low",action:"Enter scores to compute priority."}})(e);return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("textarea",{className:"matrix-notes","aria-label":`Historical pattern row ${s+1}`,value:e.pattern,onChange:e=>i(s,"pattern",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"3",className:"matrix-number","aria-label":`Impact severity row ${s+1}`,value:e.impact,onChange:e=>i(s,"impact",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"3",className:"matrix-number","aria-label":`Occurrence likelihood row ${s+1}`,value:e.likelihood,onChange:e=>i(s,"likelihood",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"3",className:"matrix-number","aria-label":`System relevance row ${s+1}`,value:e.relevance,onChange:e=>i(s,"relevance",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"risk-score-cell",children:[(0,t.jsxs)("span",{className:`risk-pill ${a.className}`,children:[(0,t.jsx)("span",{children:a.score}),(0,t.jsx)("span",{children:a.label})]}),(0,t.jsx)("span",{className:"risk-action",children:a.action})]})}),(0,t.jsx)("td",{children:(0,t.jsx)("textarea",{className:"matrix-notes","aria-label":`Mitigation notes row ${s+1}`,value:e.mitigation,onChange:e=>i(s,"mitigation",e.target.value)})})]},s)})})]})})})]})},r=()=>{const e=.3,s=.2,i=.2,n=.2,r=.1,l=e=>{const s=Number(e);return Number.isFinite(s)?Math.min(5,Math.max(1,s)):0},[o,c]=(0,a.useState)(Array.from({length:4}).map(()=>({name:"",owner:"",severity:1,scope:1,persistence:1,historical:1,feasibility:1}))),d=(e,s,i)=>{c(a=>a.map((a,t)=>t===e?{...a,[s]:i}:a))};return(0,t.jsxs)("div",{className:"table-card",children:[(0,t.jsxs)("div",{className:"controls-row",children:[(0,t.jsx)("button",{type:"button",onClick:()=>c(e=>[...e,{name:"",owner:"",severity:1,scope:1,persistence:1,historical:1,feasibility:1}]),children:"+ Add row"}),(0,t.jsx)("button",{type:"button",onClick:()=>c(Array.from({length:4}).map(()=>({name:"",owner:"",severity:1,scope:1,persistence:1,historical:1,feasibility:1}))),children:"Clear"})]}),(0,t.jsx)("div",{className:"table-scroll",children:(0,t.jsxs)("table",{className:"priority-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Bias source"}),(0,t.jsx)("th",{children:"Owner"}),(0,t.jsx)("th",{children:"Severity (1\u20135)"}),(0,t.jsx)("th",{children:"Scope (1\u20135)"}),(0,t.jsx)("th",{children:"Persistence (1\u20135)"}),(0,t.jsx)("th",{children:"Historical align. (1\u20135)"}),(0,t.jsx)("th",{children:"Intervention feasibility (1\u20135)"}),(0,t.jsx)("th",{children:"Score"}),(0,t.jsx)("th",{children:"Priority"})]})}),(0,t.jsx)("tbody",{children:o.map((a,o)=>{const c=(a=>{const t=l(a.severity),o=l(a.scope),c=l(a.persistence),d=l(a.historical),h=l(a.feasibility),m=Number((t*e+o*s+c*i+d*n+h*r).toFixed(2));return m>=4?{score:m,label:"High",className:"priority-high",action:"Mitigate immediately and monitor."}:m>=3?{score:m,label:"Medium",className:"priority-medium",action:"Plan mitigation and track."}:{score:m,label:"Low",className:"priority-low",action:"Document and observe."}})(a);return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"text","aria-label":`Bias source row ${o+1}`,value:a.name,onChange:e=>d(o,"name",e.target.value),className:"full-width-input"})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"text","aria-label":`Owner row ${o+1}`,value:a.owner,onChange:e=>d(o,"owner",e.target.value),className:"full-width-input"})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"5",className:"priority-number","aria-label":`Severity row ${o+1}`,value:a.severity,onChange:e=>d(o,"severity",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"5",className:"priority-number","aria-label":`Scope row ${o+1}`,value:a.scope,onChange:e=>d(o,"scope",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"5",className:"priority-number","aria-label":`Persistence row ${o+1}`,value:a.persistence,onChange:e=>d(o,"persistence",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"5",className:"priority-number","aria-label":`Historical alignment row ${o+1}`,value:a.historical,onChange:e=>d(o,"historical",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("input",{type:"number",min:"1",max:"5",className:"priority-number","aria-label":`Intervention feasibility row ${o+1}`,value:a.feasibility,onChange:e=>d(o,"feasibility",e.target.value)})}),(0,t.jsx)("td",{children:(0,t.jsx)("div",{className:"priority-score",children:(0,t.jsx)("span",{className:"priority-score-value",children:c.score})})}),(0,t.jsx)("td",{children:(0,t.jsxs)("div",{className:"priority-score-cell",children:[(0,t.jsxs)("span",{className:`priority-pill ${c.className}`,children:[(0,t.jsx)("span",{children:c.score}),(0,t.jsx)("span",{children:c.label})]}),(0,t.jsx)("span",{className:"priority-action",children:c.action})]})})]},o)})})]})})]})},l=({id:e,label:s,children:i})=>{const[n,r]=(0,a.useState)(0),[l,o]=(0,a.useState)(""),c=s||`Notes for ${e}`,d=n>0&&n<=2,h=n>=3,m=0===n?"Not marked":d?"Marked low relevance":"Marked relevant",x=0===n?"detect-note-status":d?"detect-note-status detect-note-status--low":"detect-note-status",u=d?"detect-note detect-note--low":"detect-note";return(0,t.jsxs)("div",{className:u,children:[(0,t.jsx)("div",{className:"detect-note-header",children:(0,t.jsxs)("div",{className:"detect-note-meta",children:[(0,t.jsx)("span",{className:"detect-note-label",children:"Relevance for your application"}),(0,t.jsxs)("div",{role:"radiogroup","aria-label":`Relevance rating for ${e}`,className:"detect-note-stars",children:[Array.from({length:5}).map((e,s)=>(e=>{const s=n>=e,i=s?"detect-note-star detect-note-star--active":"detect-note-star";return(0,t.jsx)("button",{type:"button","aria-label":`${e} star${e>1?"s":""} relevance`,onClick:()=>r(e),className:i,children:s?"\u2605":"\u2606"},e)})(s+1)),(0,t.jsx)("span",{className:"detect-note-score",children:n?`${n}/5`:"Not set"}),(0,t.jsx)("span",{className:x,children:m})]})]})}),(0,t.jsxs)("div",{className:d?"detect-note-body detect-note-body--muted":"detect-note-body",children:[i,h?(0,t.jsxs)("div",{className:"detect-note-notes",children:[(0,t.jsx)("label",{className:"detect-note-notes-label",children:c}),(0,t.jsx)("textarea",{rows:3,className:"note-area","aria-label":`${c} notes`,placeholder:"Capture signals, tests, owners, and mitigation ideas.",value:l,onChange:e=>o(e.target.value)})]}):null]})]})}},8453(e,s,i){i.d(s,{R:()=>r,x:()=>l});var a=i(6540);const t={},n=a.createContext(t);function r(e){const s=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),a.createElement(n.Provider,{value:s},e.children)}}}]);